#include <iostream>
#include <string>
#include <boost/regex.hpp>
#include <vector>
#include <utility>

#define ALL(x) x.begin(), x.end()
using namespace std;
using namespace boost;

typedef pair<long, string> tCoin;

const string NUMBER(R"((-?[1-9]\d{0,9}))");

void reportError(unsigned long line, const string& text = "")
{
    cerr << "Error in line " << line << ":" << text << endl;
}

bool lastLine(const string& text, long& year1, long& year2)
{
    regex regexp(NUMBER + R"(\s+)" + NUMBER + R"(\s*)");
    smatch match;

    if(!regex_match(text, match, regexp))
        return false;

    year1 = stoi(match[1].str());
    year2 = stoi(match[2].str());
    return true;
}

bool parseRecord(const string& text, string& description, long& year)
{
    regex regexp(R"(^([^\s].*?)(?:\s+)" + NUMBER + R"(\s*))");
    smatch match;

    if(!regex_match(text, match, regexp))
        return false;

    description = match[1].str();
    year = stoi(match[2].str());
    return true;
}

bool readInput(vector<tCoin>& coins, long& year1, long& year2)
{
    string text, description;
    long year;
    bool lastLineOccured = false;
    unsigned long line = 1;

    while(!lastLineOccured && getline(cin, text)) {
        if(lastLine(text, year1, year2)) {
            lastLineOccured = true;
        } else if(parseRecord(text, description, year)) {
            tCoin coin(year, description);
            coins.push_back(coin);
        } else {
            reportError(line, text);
        }

        line++;
    }

    while(getline(cin, text)) {
        reportError(line, text);
        line++;
    }

    if(!lastLineOccured) {
        reportError(line);
        return false;
    }

    return true;
}

void reorder(vector<tCoin>& coins, long year1, long year2)
{
    sort(ALL(coins));
    auto left = lower_bound(ALL(coins), make_pair(year1, string("")));
    auto right = lower_bound(ALL(coins), make_pair(year2, string("")));
    reverse(left, right);
}

int main()
{
    vector<tCoin> coins;
    long year1, year2;

    if(readInput(coins, year1, year2)) {
        reorder(coins, year1, year2);
        for(tCoin& coin : coins) {
            cout << coin.second << " " << coin.first << endl;
        };
    }

    return 0;
}
